{"version":3,"sources":["webpack:///./resources/js/Pages/Admin/Course/Form.vue?d34a","webpack:///resources/js/Pages/Admin/Course/Form.vue","webpack:///./resources/js/Pages/Admin/Course/Form.vue?9636","webpack:///./resources/js/Pages/Admin/Course/Form.vue?6455","webpack:///./resources/js/Pages/Admin/Course/Form.vue","webpack:///./resources/js/Pages/Admin/Course/Form.vue?f361"],"names":["___CSS_LOADER_EXPORT___","push","module","id","props","components","data","form","this","$inertia","title","description","archived","destroyWeekForm","destroyLessonForm","isOpen","mounted","methods","confirmLessonDelete","$buefy","dialog","confirm","type","hasIcon","message","onConfirm","week","weekNumber","lesson","lessonId","course","preserveScroll","onSuccess","onError","confirmWeekDelete","onSubmit","$parameters","transform","course_id","_method","options","_vm","_h","$createElement","_c","_self","staticClass","attrs","route","_v","_s","errors","_e","model","value","callback","$$v","$set","expression","_l","index","key","on","$event","scopedSlots","_u","fn","class","open","number","name","lessons","length","stopPropagation","nativeOn","proxy","weeks","processing","preventDefault"],"mappings":"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","file":"js/215.8c20baf7cfd58c1e1c8e.js","sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".collapse{border-bottom:1px solid #ededed}\", \"\",{\"version\":3,\"sources\":[\"webpack://./resources/js/Pages/Admin/Course/Form.vue\"],\"names\":[],\"mappings\":\"AA0MA,UACE,+BAxMF\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n@import \\\"../../../../sass/variables\\\";\\n\\n.collapse {\\n  border-bottom: 1px solid $grey-lightest;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","<template>\n<app-layout>\n  <div class=\"column is-7-tablet is-6-desktop is-5-widescreen\">\n    <inertia-link class=\"back-link has-text-dark\" :href=\"route('courses.manage')\">&larr; Back to admin</inertia-link>\n    <div class=\"box\">\n      <h3 class=\"title has-text-centered\">{{ data ? 'Modifica' : 'Creare' }} corso <span class=\"emoji\">✏️</span></h3>\n      <p class=\"subtitle has-text-centered\">{{ data ? 'Edit the' : 'Set up a new'  }} course below</p>\n      <b-notification v-if=\"errors.course\" type=\"is-danger\" has-icon role=\"alert\" :closable=\"false\" :message=\"errors.course[0]\">\n      </b-notification>\n\n      <b-field label=\"Title\" :message=\"errors.title\" :type=\"errors.title ? 'is-danger' : null\">\n        <b-input required name=\"title\" v-model=\"form.title\" placeholder=\"Enter the title for this course\"></b-input>\n      </b-field>\n\n      <b-field label=\"Description\" :message=\"errors.description\" :type=\"errors.description ? 'is-danger' : null\">\n        <b-input v-model=\"form.description\" name=\"description\" type=\"textarea\" maxlength=\"120\" rows=\"3\" placeholder=\"Give a description of this course\">\n        </b-input>\n      </b-field>\n\n      <div class=\"is-flex is-justify-content-space-between is-align-items-center mb-2\">\n        <h3 class=\"label\">Lessons</h3>\n        <inertia-link class=\"button is-primary\" :href=\"route('week.create', {course: $parameters.course })\">\n          Add new week</inertia-link>\n      </div>\n\n      <nav v-if=\"$parameters.course\" class=\"mb-6\">\n\n        <b-collapse\n            class=\"collapse\"\n            animation=\"slide\"\n            v-for=\"(week, index) of data.weeks\"\n            :key=\"index\"\n            :open=\"isOpen == index\"\n            @open=\"isOpen = index\">\n\n            <template #trigger=\"props\">\n\n              <div :class=\"props.open ? '' : 'is-radius'\" class=\"is-size-6 p-1 pl-2 is-align-items-center is-flex\" role=\"button\">\n                <b-icon class=\"mr-2\"\n                          :icon=\"props.open ? 'menu-down' : 'menu-right'\">\n                      </b-icon>\n                <span class=\"tag is-white mr-2 has-text-weight-normal\">{{ week.number }}</span>\n                <span class=\"text-overflow-ellipsis\">{{ week.name }}</span>\n                <span class=\"is-size-7 ml-2 mr-2 has-text-weight-normal\">\n                  {{ week.lessons.length || 'No' }} lessons\n                </span>\n\n                <div class=\"ml-a has-text-weight-normal\">\n                  <inertia-link @click.stop class=\"button is-small is-link is-outlined\" :href=\"route('lesson.create', {course: $parameters.course, week: week.number })\">Add lesson</inertia-link>\n                  <b-dropdown\n                      position=\"is-bottom-left\"\n                      append-to-body\n\n                      aria-role=\"menu\"\n                      @click.native.stop>\n                      <template #trigger>\n                          <b-button class=\"is-small\">\n                            <b-icon icon=\"cog\" size=\"is-small\"></b-icon>\n                          </b-button>\n                      </template>\n\n                      <b-dropdown-item has-link aria-role=\"menuitem\">\n                        <inertia-link @click.stop :href=\"route('week.edit', {course: $parameters.course, week: week.number})\">Edit</inertia-link>\n                      </b-dropdown-item>\n                      <b-dropdown-item has-link aria-role=\"menuitem\">\n                        <a href=\"#\" role=\"button\" @click.stop=\"confirmWeekDelete(week.number)\">Delete</a>\n                      </b-dropdown-item>\n                  </b-dropdown>\n                </div>\n              </div>\n            </template>\n\n            <div class=\"notification has-background-white mb-0 is-size-7 has-text-centered\" v-if=\"!week.lessons.length\">\n              No lessons in this week. <inertia-link :href=\"route('lesson.create', {course: $parameters.course, week: week.number })\">Add the first</inertia-link>.\n            </div>\n\n            <div class=\"panel-block is-justify-between\" v-for=\"lesson in week.lessons\" :key=\"lesson.id\">\n              <span class=\"text-overflow-ellipsis\">{{ lesson.title }}</span>\n              <div class=\"is-size-7 ml-2\">\n                <inertia-link class=\"button has-text-grey is-small\" :href=\"route('lesson.edit', { course: $parameters.course, week: week.number, lesson: lesson.id })\">Edit</inertia-link>\n                <button class=\"button has-text-grey is-small\" @click=\"confirmLessonDelete(week.number, lesson.id)\">Delete</button>\n              </div>\n            </div>\n        </b-collapse>\n\n\n\n        <section v-if=\"!data.weeks\" class=\"section is-medium has-background-light has-text-centered\">\n          Start by <inertia-link :href=\"route('week.create', {course: $parameters.course })\">adding a week</inertia-link>\n        </section>\n\n      </nav>\n\n      <div class=\"notification\" v-else>\n        You need to save this course before adding lessons.\n      </div>\n\n      <b-checkbox v-if=\"data\" v-model=\"form.archived\">Archive this course?</b-checkbox>\n\n      <hr>\n      <b-button type=\"is-primary\" :disabled=\"!form.title\" @click.prevent=\"onSubmit\" :loading=\"form.processing\" expanded>{{ data ? 'Update' : 'Create' }}</b-button>\n    </div>\n  </div>\n</app-layout>\n</template>\n\n<script>\nexport default {\n  props: ['errors', 'data', '$parameters'],\n  components: {},\n  data() {\n    return {\n      form: this.$inertia.form({\n        id: this.data?.id ?? null,\n        title: this.data?.title ?? null,\n        description: this.data?.description ?? null,\n        archived: this.data?.archived ?? false\n      }),\n      destroyWeekForm: this.$inertia.form(),\n      destroyLessonForm: this.$inertia.form(),\n      isOpen: null,\n    }\n  },\n\n  mounted() {},\n\n  methods: {\n\n\n    confirmLessonDelete(weekNumber, lessonId) {\n      this.$buefy.dialog.confirm({\n        type: 'is-danger',\n        hasIcon: true,\n        title: 'Confirm lesson deletion',\n        message: '<strong>Are you sure you want to delete this lesson?</strong>',\n        onConfirm: () => this.destroyLessonForm.transform((data) => ({\n            _method: 'DELETE',\n          }))\n          .post(route('lesson.delete', {\n            week: weekNumber,\n            lesson: lessonId,\n            course: this.$parameters.course\n          }), {\n            preserveScroll: true,\n            onSuccess: () => {\n              this.successToast('Week deleted');\n            },\n            onError: errors => {\n              this.errorToast('Could not delete week.');\n            },\n          })\n      })\n    },\n\n    confirmWeekDelete(weekNumber) {\n      this.$buefy.dialog.confirm({\n        title: 'Confirm week deletion',\n        type: 'is-danger',\n        hasIcon: true,\n        message: 'Are you sure you want to delete this week?<br> <strong>This will also delete any lessons within this week.</strong>',\n        onConfirm: () => this.destroyWeekForm.delete(route('week.delete', {\n            week: weekNumber,\n            course: this.$parameters.course\n          }), {\n            preserveScroll: true,\n            onSuccess: () => {\n              this.successToast('Week deleted');\n            },\n            onError: errors => {\n              this.errorToast('Could not delete week.');\n            },\n          })\n      })\n    },\n\n    onSubmit() {\n      let postRoute = this.data ? route('course.update', {\n        course: this.$parameters.course\n      }) : route('course.create');\n\n      this.form.transform((data) => ({\n          ...data,\n          course_id: this.$parameters.course,\n          _method: (this.data ? 'PUT' : 'POST'),\n        }))\n        .post(postRoute, {\n          preserveScroll: true,\n          onSuccess: () => {\n            this.successToast('Course saved');\n          },\n          onError: errors => {\n            this.errorToast('Check the form for errors');\n          },\n        })\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import \"../../../../sass/variables\";\n\n.collapse {\n  border-bottom: 1px solid $grey-lightest;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=js&\"","import api from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-12[0].rules[0].use[1]!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-12[0].rules[0].use[2]!../../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-12[0].rules[0].use[3]!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=style&index=0&lang=scss&\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import { render, staticRenderFns } from \"./Form.vue?vue&type=template&id=6e0455f8&\"\nimport script from \"./Form.vue?vue&type=script&lang=js&\"\nexport * from \"./Form.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Form.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('app-layout',[_c('div',{staticClass:\"column is-7-tablet is-6-desktop is-5-widescreen\"},[_c('inertia-link',{staticClass:\"back-link has-text-dark\",attrs:{\"href\":_vm.route('courses.manage')}},[_vm._v(\"← Back to admin\")]),_vm._v(\" \"),_c('div',{staticClass:\"box\"},[_c('h3',{staticClass:\"title has-text-centered\"},[_vm._v(_vm._s(_vm.data ? 'Modifica' : 'Creare')+\" corso \"),_c('span',{staticClass:\"emoji\"},[_vm._v(\"✏️\")])]),_vm._v(\" \"),_c('p',{staticClass:\"subtitle has-text-centered\"},[_vm._v(_vm._s(_vm.data ? 'Edit the' : 'Set up a new')+\" course below\")]),_vm._v(\" \"),(_vm.errors.course)?_c('b-notification',{attrs:{\"type\":\"is-danger\",\"has-icon\":\"\",\"role\":\"alert\",\"closable\":false,\"message\":_vm.errors.course[0]}}):_vm._e(),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":\"Title\",\"message\":_vm.errors.title,\"type\":_vm.errors.title ? 'is-danger' : null}},[_c('b-input',{attrs:{\"required\":\"\",\"name\":\"title\",\"placeholder\":\"Enter the title for this course\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":\"Description\",\"message\":_vm.errors.description,\"type\":_vm.errors.description ? 'is-danger' : null}},[_c('b-input',{attrs:{\"name\":\"description\",\"type\":\"textarea\",\"maxlength\":\"120\",\"rows\":\"3\",\"placeholder\":\"Give a description of this course\"},model:{value:(_vm.form.description),callback:function ($$v) {_vm.$set(_vm.form, \"description\", $$v)},expression:\"form.description\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"is-flex is-justify-content-space-between is-align-items-center mb-2\"},[_c('h3',{staticClass:\"label\"},[_vm._v(\"Lessons\")]),_vm._v(\" \"),_c('inertia-link',{staticClass:\"button is-primary\",attrs:{\"href\":_vm.route('week.create', {course: _vm.$parameters.course })}},[_vm._v(\"\\n          Add new week\")])],1),_vm._v(\" \"),(_vm.$parameters.course)?_c('nav',{staticClass:\"mb-6\"},[_vm._l((_vm.data.weeks),function(week,index){return _c('b-collapse',{key:index,staticClass:\"collapse\",attrs:{\"animation\":\"slide\",\"open\":_vm.isOpen == index},on:{\"open\":function($event){_vm.isOpen = index}},scopedSlots:_vm._u([{key:\"trigger\",fn:function(props){return [_c('div',{staticClass:\"is-size-6 p-1 pl-2 is-align-items-center is-flex\",class:props.open ? '' : 'is-radius',attrs:{\"role\":\"button\"}},[_c('b-icon',{staticClass:\"mr-2\",attrs:{\"icon\":props.open ? 'menu-down' : 'menu-right'}}),_vm._v(\" \"),_c('span',{staticClass:\"tag is-white mr-2 has-text-weight-normal\"},[_vm._v(_vm._s(week.number))]),_vm._v(\" \"),_c('span',{staticClass:\"text-overflow-ellipsis\"},[_vm._v(_vm._s(week.name))]),_vm._v(\" \"),_c('span',{staticClass:\"is-size-7 ml-2 mr-2 has-text-weight-normal\"},[_vm._v(\"\\n                  \"+_vm._s(week.lessons.length || 'No')+\" lessons\\n                \")]),_vm._v(\" \"),_c('div',{staticClass:\"ml-a has-text-weight-normal\"},[_c('inertia-link',{staticClass:\"button is-small is-link is-outlined\",attrs:{\"href\":_vm.route('lesson.create', {course: _vm.$parameters.course, week: week.number })},on:{\"click\":function($event){$event.stopPropagation();}}},[_vm._v(\"Add lesson\")]),_vm._v(\" \"),_c('b-dropdown',{attrs:{\"position\":\"is-bottom-left\",\"append-to-body\":\"\",\"aria-role\":\"menu\"},nativeOn:{\"click\":function($event){$event.stopPropagation();}},scopedSlots:_vm._u([{key:\"trigger\",fn:function(){return [_c('b-button',{staticClass:\"is-small\"},[_c('b-icon',{attrs:{\"icon\":\"cog\",\"size\":\"is-small\"}})],1)]},proxy:true}],null,true)},[_vm._v(\" \"),_c('b-dropdown-item',{attrs:{\"has-link\":\"\",\"aria-role\":\"menuitem\"}},[_c('inertia-link',{attrs:{\"href\":_vm.route('week.edit', {course: _vm.$parameters.course, week: week.number})},on:{\"click\":function($event){$event.stopPropagation();}}},[_vm._v(\"Edit\")])],1),_vm._v(\" \"),_c('b-dropdown-item',{attrs:{\"has-link\":\"\",\"aria-role\":\"menuitem\"}},[_c('a',{attrs:{\"href\":\"#\",\"role\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.confirmWeekDelete(week.number)}}},[_vm._v(\"Delete\")])])],1)],1)],1)]}}],null,true)},[_vm._v(\" \"),(!week.lessons.length)?_c('div',{staticClass:\"notification has-background-white mb-0 is-size-7 has-text-centered\"},[_vm._v(\"\\n              No lessons in this week. \"),_c('inertia-link',{attrs:{\"href\":_vm.route('lesson.create', {course: _vm.$parameters.course, week: week.number })}},[_vm._v(\"Add the first\")]),_vm._v(\".\\n            \")],1):_vm._e(),_vm._v(\" \"),_vm._l((week.lessons),function(lesson){return _c('div',{key:lesson.id,staticClass:\"panel-block is-justify-between\"},[_c('span',{staticClass:\"text-overflow-ellipsis\"},[_vm._v(_vm._s(lesson.title))]),_vm._v(\" \"),_c('div',{staticClass:\"is-size-7 ml-2\"},[_c('inertia-link',{staticClass:\"button has-text-grey is-small\",attrs:{\"href\":_vm.route('lesson.edit', { course: _vm.$parameters.course, week: week.number, lesson: lesson.id })}},[_vm._v(\"Edit\")]),_vm._v(\" \"),_c('button',{staticClass:\"button has-text-grey is-small\",on:{\"click\":function($event){return _vm.confirmLessonDelete(week.number, lesson.id)}}},[_vm._v(\"Delete\")])],1)])})],2)}),_vm._v(\" \"),(!_vm.data.weeks)?_c('section',{staticClass:\"section is-medium has-background-light has-text-centered\"},[_vm._v(\"\\n          Start by \"),_c('inertia-link',{attrs:{\"href\":_vm.route('week.create', {course: _vm.$parameters.course })}},[_vm._v(\"adding a week\")])],1):_vm._e()],2):_c('div',{staticClass:\"notification\"},[_vm._v(\"\\n        You need to save this course before adding lessons.\\n      \")]),_vm._v(\" \"),(_vm.data)?_c('b-checkbox',{model:{value:(_vm.form.archived),callback:function ($$v) {_vm.$set(_vm.form, \"archived\", $$v)},expression:\"form.archived\"}},[_vm._v(\"Archive this course?\")]):_vm._e(),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('b-button',{attrs:{\"type\":\"is-primary\",\"disabled\":!_vm.form.title,\"loading\":_vm.form.processing,\"expanded\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onSubmit($event)}}},[_vm._v(_vm._s(_vm.data ? 'Update' : 'Create'))])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"sourceRoot":""}