(self.webpackChunk=self.webpackChunk||[]).push([[521],{4103:(n,e,t)=>{"use strict";t.d(e,{Z:()=>a});var s=t(4015),r=t.n(s),o=t(3645),i=t.n(o)()(r());i.push([n.id,".section-content{padding:3rem!important}","",{version:3,sources:["webpack://./resources/js/Pages/Admin/Chatroom/Section.vue"],names:[],mappings:"AA2CA,iBACE,sBAzCF",sourcesContent:['\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import "../../../../sass/variables";\n\n.section-content {\n  padding: 3rem !important;\n}\n'],sourceRoot:""}]);const a=i},1256:(n,e,t)=>{"use strict";t.d(e,{Z:()=>a});var s=t(4015),r=t.n(s),o=t(3645),i=t.n(o)()(r());i.push([n.id,".negative-margin{margin:0 -3rem}@media (orientation:portrait){.negative-margin{margin:0 -.75rem}}.negative-margin .chatroom-body{padding:2rem 2.25rem}@media (orientation:portrait){.negative-margin .chatroom-body{padding:2rem 0}}.negative-margin .chatroom-navigation{padding:1rem 3rem}@media (orientation:portrait){.negative-margin .chatroom-navigation{padding:1rem 0}}.chatroom{background-color:#f7fafc}.chatroom-body{padding:2rem 1rem}.chatroom-navigation{padding:1rem;border-top:1px solid #dbdbdb;border-bottom:1px solid #dbdbdb;background-color:#ededed}.mr-a{margin-right:auto!important}","",{version:3,sources:["webpack://./resources/js/components/Chatroom.vue"],names:[],mappings:"AA6IA,iBACE,cA3IF,CA6IE,8BAHF,iBAII,gBA1IF,CACF,CA4IE,gCACE,oBA1IJ,CA4II,8BAHF,gCAII,cAzIJ,CACF,CA4IE,sCACE,iBA1IJ,CA4II,8BAHF,sCAII,cAzIJ,CACF,CA6IA,UACE,wBA1IF,CA6IA,eACE,iBA1IF,CA6IA,qBACE,YAAA,CACA,4BAAA,CACA,+BAAA,CACA,wBA1IF,CA8IA,MACE,2BA3IF",sourcesContent:['\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import "../../sass/variables";\n\n.negative-margin {\n  margin: 0 (-3rem) 0;\n\n  @media (orientation: portrait) {\n    margin: 0 (-0.75rem);\n  }\n\n  .chatroom-body {\n    padding: 2rem 2.25rem;\n\n    @media (orientation: portrait) {\n      padding: 2rem 0;\n    }\n  }\n\n  .chatroom-navigation {\n    padding: 1rem 3rem;\n\n    @media (orientation: portrait) {\n      padding: 1rem 0;\n    }\n  }\n}\n\n.chatroom {\n  background-color: $white-bis;\n}\n\n.chatroom-body {\n  padding: 2rem 1rem;\n}\n\n.chatroom-navigation {\n  padding: 1rem 1rem;\n  border-top: 1px solid $grey-lighter;\n  border-bottom: 1px solid $grey-lighter;\n  background-color: $grey-lightest;\n\n}\n\n.mr-a  {\n  margin-right: auto !important;\n}\n'],sourceRoot:""}]);const a=i},5952:(n,e,t)=>{"use strict";t.d(e,{Z:()=>a});var s=t(4015),r=t.n(s),o=t(3645),i=t.n(o)()(r());i.push([n.id,".menu{padding-right:3rem!important;position:-webkit-sticky;position:sticky;top:5.5rem}","",{version:3,sources:["webpack://./resources/js/components/ChatroomMenu.vue"],names:[],mappings:"AA4DA,MACE,4BAAA,CACA,uBAAA,CAAA,eAAA,CACA,UA1DF",sourcesContent:['\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import "../../sass/variables";\n\n.menu {\n  padding-right: 3rem !important;\n  position: sticky;\n  top: 5.5rem;\n}\n'],sourceRoot:""}]);const a=i},4574:(n,e,t)=>{"use strict";t.d(e,{Z:()=>a});var s=t(4015),r=t.n(s),o=t(3645),i=t.n(o)()(r());i.push([n.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const a=i},4521:(n,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>d});var s=t(7343),r=t(5916);const o={props:["new_count","courses","course","lesson","lessons","comments","replies","include_already_replied_to"],components:{Chatroom:s.Z,ChatroomMenu:r.Z},data:function(){return{}},mounted:function(){},methods:{}};var i=t(3379),a=t.n(i),l=t(4103),c={insert:"head",singleton:!1};a()(l.Z,c);l.Z.locals;const d=(0,t(1900).Z)(o,(function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("app-layout",{attrs:{padded:!1}},[t("div",{staticClass:"columns is-centered"},[t("chatroom-menu",{attrs:{new_count:n.new_count,courses:n.courses,lessons:n.lessons,current:n.course.title}}),n._v(" "),t("div",{staticClass:"section-content box column is-two-thirds p-5"},[t("div",{staticClass:"mt-6 mb-6"},[t("h3",{staticClass:"title is-flex"},[t("span",{staticClass:"text-overflow-ellipsis"},[n._v(n._s(n.lesson.title))]),n._v(" ðŸ—‚Â \n          "),t("a",{staticClass:"button ml-a",attrs:{target:"_blank",href:n.route("lesson.show",{course:n.$page.props.parameters.course,week:n.lesson.week.number,lesson:n.lesson.id})}},[n._v("View this lesson")])])]),n._v(" "),t("Chatroom",{staticClass:"negative-margin",attrs:{show_admin_interface:!0,in_chatroom_manager:!0,comments:n.comments,replies:n.replies,include_already_replied_to:n.include_already_replied_to}})],1)],1)])}),[],!1,null,null,null).exports},7343:(n,e,t)=>{"use strict";t.d(e,{Z:()=>c});var s=t(9680);const r={props:["replies","comments","show_admin_interface","in_chatroom_manager","include_already_replied_to"],components:{},data:function(){return{reply_count:this.replies.length,sortBy:"id",filter:null}},mounted:function(){},watch:{},computed:{sortedReplies:function(){var n=this,e=this.replies.filter((function(n){return n}));return e=e.sort((function(e,t){return t[n.sortBy]-e[n.sortBy]})),this.filter&&(e=e.filter((function(e){return e.type==n.filter}))),e}},methods:{toggle_already_replied_to:function(n){this.$inertia.visit(route("chatroom.section",{course:this.$page.props.parameters.course,week:this.$page.props.parameters.week,lesson:this.$page.props.parameters.lesson,section:this.$page.props.parameters.section,include_already_replied_to:n}),{preserveScroll:!0})},startRefreshing:function(){s.Inertia.reload({only:["replies"]}),setInterval((function(){console.log("reloading"),s.Inertia.reload({only:["replies"]})}),1e4)}}};var o=t(3379),i=t.n(o),a=t(1256),l={insert:"head",singleton:!1};i()(a.Z,l);a.Z.locals;const c=(0,t(1900).Z)(r,(function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"chatroom"},[t("div",{staticClass:"chatroom-navigation field is-grouped"},[t("b-field",{staticClass:"control is-hidden-mobile"},[t("b-radio-button",{attrs:{type:"is-success","native-value":null},model:{value:n.filter,callback:function(e){n.filter=e},expression:"filter"}},[n._v("\n             Show all\n         ")]),n._v(" "),t("b-radio-button",{attrs:{type:"is-success","native-value":"video"},model:{value:n.filter,callback:function(e){n.filter=e},expression:"filter"}},[n._v("\n             Video\n         ")]),n._v(" "),t("b-radio-button",{attrs:{type:"is-success","native-value":"audio"},model:{value:n.filter,callback:function(e){n.filter=e},expression:"filter"}},[n._v("\n             Audio\n         ")]),n._v(" "),t("b-radio-button",{attrs:{type:"is-success","native-value":"text"},model:{value:n.filter,callback:function(e){n.filter=e},expression:"filter"}},[n._v("\n             Text\n         ")])],1),n._v(" "),n.show_admin_interface?t("b-switch",{staticClass:"ml-a",attrs:{value:n.include_already_replied_to,"true-value":1,"false-value":0,"left-label":!0},on:{input:n.toggle_already_replied_to}},[n._v("Show replies already replied to")]):t("div",{staticClass:"is-flex ml-a"},[t("p",{staticClass:"control"},[t("b-dropdown",{attrs:{"aria-role":"list"},scopedSlots:n._u([{key:"trigger",fn:function(e){e.active;return[t("b-button",{staticClass:"mr-1",attrs:{label:{id:"Newest",comments_count:"Most commented"}[n.sortBy],type:"is-text","icon-right":"chevron-down","icon-left":"bar-chart"}})]}}]),model:{value:n.sortBy,callback:function(e){n.sortBy=e},expression:"sortBy"}},[n._v(" "),t("b-dropdown-item",{attrs:{value:"id","aria-role":"listitem"}},[n._v("Newest")]),n._v(" "),t("b-dropdown-item",{attrs:{value:"comments_count","aria-role":"listitem"}},[n._v("Most commented")])],1)],1),n._v(" "),t("p",{staticClass:"control"},[t("create-reply",{on:{uploaded:n.startRefreshing}})],1)])],1),n._v(" "),t("div",{staticClass:"chatroom-body container is-flex is-flex-wrap-wrap"},[n._l(n.sortedReplies,(function(e){return t("reply-card",{key:e.id,attrs:{reply:e,include_already_replied_to:n.include_already_replied_to,in_chatroom_manager:n.in_chatroom_manager,comments:n.$page.props.parameters.reply==e.id?n.comments:null},on:{uploaded:n.startRefreshing}})})),n._v(" "),n.replies.length||!n.show_admin_interface||n.include_already_replied_to?n.replies.length||n.show_admin_interface?n.sortedReplies.length?n._e():t("div",{staticClass:"message is-fullwidth mt-4 is-success"},[t("div",{staticClass:"message-body section is-medium has-text-centered"},[n._v("\n        ðŸ” No replies to show you.\n      ")])]):t("div",{staticClass:"message is-fullwidth mt-4 is-success"},[t("div",{staticClass:"message-body section is-medium has-text-centered"},[n._v("\n        ðŸ‘€ No oneâ€™s posted a reply yet.\n      ")])]):t("div",{staticClass:"message is-fullwidth mt-4 is-success"},[t("div",{staticClass:"message-body section is-medium has-text-centered"},[n._v("\n        ðŸ˜ Great! No replies in here need feedback.\n      ")])])],2)])}),[],!1,null,null,null).exports},5916:(n,e,t)=>{"use strict";t.d(e,{Z:()=>m});const s={props:["courses","current"],data:function(){return{}},computed:{},mounted:function(){},watch:{},methods:{}};var r=t(3379),o=t.n(r),i=t(4574),a={insert:"head",singleton:!1};o()(i.Z,a);i.Z.locals;var l=t(1900);const c={props:["new_count","courses","lessons","current"],components:{CourseDropdown:(0,l.Z)(s,(function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("b-dropdown",{staticClass:"is-block",attrs:{position:"is-bottom-right","append-to-body":"","aria-role":"menu"},scopedSlots:n._u([{key:"trigger",fn:function(){return[t("button",{staticClass:"button is-fullwidth navbar-item text-overflow-ellipsis",attrs:{role:"button"}},[t("span",{},[n._v(n._s(n.current))]),n._v(" "),t("b-icon",{attrs:{icon:"chevron-down"}})],1)]},proxy:!0}])},[n._v(" "),t("b-dropdown-item",{attrs:{"has-link":"","aria-role":"menuitem"}},n._l(n.courses,(function(e){return t("inertia-link",{key:e.id,attrs:{href:n.route("chatroom.course",{course:e.id})}},[n._v("\n      "+n._s(e.title)+"\n    ")])})),1)],1)}),[],!1,null,null,null).exports},data:function(){return{}},computed:{},mounted:function(){},watch:{},methods:{}};var d=t(5952),u={insert:"head",singleton:!1};o()(d.Z,u);d.Z.locals;const m=(0,l.Z)(c,(function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("aside",{staticClass:"column is-one-third p-5 mt-5"},[t("div",{staticClass:"menu"},[t("h2",{staticClass:"title is-size-3"},[n._v("Chatroom manager "),t("span",{staticClass:"tag is-success is-rounded ml-a",attrs:{title:n.new_count+" replies awaiting feedback"}},[n._v(n._s(n.new_count)+" new")])]),n._v(" "),t("course-dropdown",{attrs:{courses:n.courses,current:n.current}}),n._v(" "),t("ul",{staticClass:"mt-4 menu-list"},n._l(n.lessons,(function(e){return t("li",{key:e.id},[t("inertia-link",{staticClass:"is-flex is-justify-between",class:{"is-active":e.id==n.$page.props.parameters.lesson},attrs:{href:n.route("chatroom.lesson",{course:n.$page.props.parameters.course,lesson:e.id})}},[t("strong",{staticClass:"mr-1"},[n._v(n._s(e.week.name))]),n._v(" "),t("span",{staticClass:"text-overflow-ellipsis"},[n._v(n._s(e.title))]),n._v(" "),t("span",{staticClass:"ml-1 tag is-rounded"},[n._v(n._s(e.feedbackless_reply_count)+" new")])])],1)})),0)],1)])}),[],!1,null,null,null).exports}}]);
//# sourceMappingURL=521.586c6476f1742b06a310.js.map