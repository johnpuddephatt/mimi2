(self.webpackChunk=self.webpackChunk||[]).push([[848],{848:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>r});var a=s(6801),o=s(4752);const i={props:["errors","user","admin","notification_emails"],components:{AppLayout:a.Z,CameraField:o.Z},data:function(){var t,e,s,a;return{activeTab:window.location.hash?parseInt(window.location.hash.replace("#","")):0,form:this.$inertia.form({_method:"put",id:this.user.id,first_name:null!==(t=this.user.first_name)&&void 0!==t?t:null,last_name:null!==(e=this.user.last_name)&&void 0!==e?e:null,description:null!==(s=this.user.description)&&void 0!==s?s:null,photo:this.user.photo&&!this.user.photo.startsWith("https://ui-avatars.com")?this.user.photo:null,notification_emails:null!==(a=this.user.notification_emails)&&void 0!==a?a:[]})}},watch:{activeTab:function(t){window.location.hash=t}},mounted:function(){},computed:{},methods:{onSubmit:function(){var t=this;this.form.post(route("profile.update"),{forceFormData:!0,onSuccess:function(){t.successToast("Your profile has been updated.")},onError:function(e){t.successToast("Check the form for errors")}})}}};const r=(0,s(1900).Z)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("app-layout",[s("div",{staticClass:"columns is-centered"},[s("div",{staticClass:"column is-7-tablet is-6-desktop is-5-widescreen"},[s("form",{ref:"form",staticClass:"box register-form"},[s("h3",{staticClass:"title has-text-centered"},[t._v("Modifica il tuo profilo"),s("span",{staticClass:"emoji"},[t._v("ðŸ‘¤")])]),t._v(" "),s("p",{staticClass:"subtitle has-text-centered"},[t._v("Edit your profile")]),t._v(" "),t.errors.course?s("b-notification",{attrs:{type:"is-danger","has-icon":"",role:"alert",closable:!1,message:t.errors.course[0]}}):t._e(),t._v(" "),s("b-tabs",{model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[s("b-tab-item",{attrs:{label:"About you"}},[s("b-field",{attrs:{label:"First name",message:t.errors.first_name,type:t.errors.first_name?"is-danger":null}},[s("b-input",{attrs:{required:"",name:"first_name"},model:{value:t.form.first_name,callback:function(e){t.$set(t.form,"first_name",e)},expression:"form.first_name"}})],1),t._v(" "),s("b-field",{attrs:{label:"Last name",message:t.errors.last_name,type:t.errors.last_name?"is-danger":null}},[s("b-input",{attrs:{required:"",name:"last_name"},model:{value:t.form.last_name,callback:function(e){t.$set(t.form,"last_name",e)},expression:"form.last_name"}})],1),t._v(" "),s("b-field",{attrs:{label:"Photo"}},[s("camera-field",{attrs:{mode:"photo"},model:{value:t.form.photo,callback:function(e){t.$set(t.form,"photo",e)},expression:"form.photo"}})],1),t._v(" "),s("b-field",{attrs:{label:"Introduce yourself"}},[s("b-input",{attrs:{name:"description",type:"textarea",maxlength:"120",rows:"4",required:"",placeholder:"Introduce yourself to the other students."},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)],1),t._v(" "),s("b-tab-item",{attrs:{label:"Notifications"}},[s("b-field",{attrs:{label:"Email notifications"}},[s("div",{staticClass:"mb-5"},[s("p",{staticClass:"mb-2"},[t._v("Send me an email when:")]),t._v(" "),t._l(t.notification_emails,(function(e,a){return s("b-checkbox",{key:a,attrs:{"native-value":a},model:{value:t.form.notification_emails,callback:function(e){t.$set(t.form,"notification_emails",e)},expression:"form.notification_emails"}},[t._v("\n                  "+t._s(e)+"\n                ")])}))],2)])],1)],1),t._v(" "),s("hr"),t._v(" "),s("b-button",{attrs:{type:"is-primary",expanded:""},on:{click:function(e){return e.preventDefault(),t.onSubmit(e)}}},[t._v("Save")])],1)])])])}),[],!1,null,null,null).exports}}]);
//# sourceMappingURL=848.09132e817fecb84f1c38.js.map